{% extends "base.html" %}
{% block body %}
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<style>


  .container-fluid {
      width: 100vw;
      margin: auto;
      background-color: black;
      height: 100vh;
      color: white;
    }

    .topnav {
      overflow: hidden;
      background-color: black;
      position: relative;
        width: 100vw;
        height: 7vh;
    }

    #myLinks {
      display: none;
        position: fixed;
        top: 7vh;
        width: 100%;
        height: 14vh;
        background-color: gray;
        left: 0;
        
    }

    #myLinks>a{
        color: white;
        display: block;
        width: 100%;
        height: 50%;
        left: 0;
        text-align: left;
        padding: 2.25vh 0 2.25vh 2vw;
        justify-content: center;
        font-size: 2.5vh;
    }
    
    

    .topnav a {
      color: white;
      padding: 1.7vh 0px;
      text-decoration: none;
      font-size: 17px;
      display: block;
        width: 100%;
        text-align: center;
    }

    .topnav a.icon {
      background: black;
      display: block;
/*      position: absolute;*/
      right: 0;
      top: 0;
        width: 100%;
        text-align: center;
        
    }

    .topnav a:hover {
      background-color: black;
      color: white;
    }

    .active {
      background-color: rgba(247,202,24,1);
      color: white;
        text-align: center;
    }
    
    #whole {
        width: 100vw;
        height: 93vh;
        padding-left: 9vw;
        padding-right: 11vw;
    }
    
    #health {
        background-color: #4B77BE!important;
        width: 10vw;
    }
    
  

    #subtitle{
        padding-top: 2vh;
        margin-bottom: 1vh;
        color: rgba(247,202,24,1);
        font-size:110%;
        font-weight: bold;
    }
     #subtitle2{
        margin-top: 1vh;
        margin-bottom: 3vh;
        color: rgba(247,202,24,1);
        font-size:110%;
        font-weight: bold;
    }
    #beeinfo {
        padding-top: 3vh;
    }
  
/*
    #beeinfo{
        padding-top: 20px;
    }
*/
</style>


<!-- Simulate a smartphone / tablet -->
<div class="container-fluid">

<!-- Top Navigation Menu -->
    <div class="row">
        <div class="topnav">
        <div class="col-xs-2 col-sm-2 col-md-2 col-2">
                <button type="button" class="backicon"  onclick="window.location.href='{{ url_for( 'choosebee') }}'"><img src="{{url_for('static', filename='img/backicon.png')}}" ></button>
        </div>
      <div class="col-xs-8 col-sm-8 col-md-8 col-8" style="padding-left: 0px; padding-right: 0px; height: 7vh;">
            <a href="#home" class="active" id="title">My Bee Home</a>
    </div>
            <div class="col-xs-2 col-sm-2 col-md-2 col-2">
      
      <a href="javascript:void(0);" class="icon" onclick="myFunction()">
        <i class="fa fa-bars"></i>
      </a>
                </div>
            
            
    </div>  
    </div>

<!-- Bee list -->
<div id="Beelist">
    <div class="row" id="whole">
    <div class="row">
        <div class="col-xs-12" id="Beelist_container">
            <div class="row" id='subtitle'>My Bee Character</div>
            <div class="row" id="choose1">
                <div class="col-xs-6" id="beepic">
                    <div class="hexagon hexagon2">
                        <div class="hexagon-in1"><img width="5vw" height="5vh" class="hexagon-in2"></div>
                    </div>
                </div>
                <div class="col-xs-6" id='beeinfo'>
                    <div class="row"><p style="color: rgba(247,202,24, 1); font-size: 18px" id="img_name">{{img_name}}</p>
                    </div>
                    <div class="row"><p style="color: white; font-size: 15px" id="healthpoint">Nectar (Health Points)</p>
                    </div>
                    <div class="row" id="lifebar">
                        <div class="progress">
                            <div class="progress-bar progress-bar-striped bg-warning" role="progressbar" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100" style="width: 100%" id="health"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    
    </div>
    <div class="row" id='subtitle2'>My Flower Collection</div>
    <div id="achievementcontainer">
        
            <!-- row 1 -->
            <div class="row"  id="row1">
                <div class="col-xs-4">
                   <div id="hexygon-container" class="Helleborus">
                        <img id="hexygon-child-1" src="{{url_for('static', filename='img/secretflower.png')}}" >
                        <img id="hexygon-child-2" src="{{url_for('static', filename='img/secretflower.png')}}" >
                        <img id="hexygon-child-3" src="{{url_for('static', filename='img/secretflower.png')}}" >
                        <img id="hexygon-child-4" src="{{url_for('static', filename='img/secretflower.png')}}" >
                        <img id="hexygon-child-5" src="{{url_for('static', filename='img/secretflower.png')}}" >
                        <img id="hexygon-child-6" src="{{url_for('static', filename='img/secretflower.png')}}" >            
                    </div> 
                </div>
                 <div class="col-xs-4">
                   <div id="hexygon-container" class="Pansy">
                        <img id="hexygon-child-1" src="{{url_for('static', filename='img/secretflower.png')}}" >
                        <img id="hexygon-child-2" src="{{url_for('static', filename='img/secretflower.png')}}" >
                        <img id="hexygon-child-3" src="{{url_for('static', filename='img/secretflower.png')}}" >
                        <img id="hexygon-child-4" src="{{url_for('static', filename='img/secretflower.png')}}" >
                        <img id="hexygon-child-5" src="{{url_for('static', filename='img/secretflower.png')}}" >
                        <img id="hexygon-child-6" src="{{url_for('static', filename='img/secretflower.png')}}" >            
                    </div> 
                </div>
                 <div class="col-xs-4">
                   <div id="hexygon-container">
                        <img id="hexygon-child-1" src="{{url_for('static', filename='img/secretflower.png')}}" >
                        <img id="hexygon-child-2" src="{{url_for('static', filename='img/secretflower.png')}}" >
                        <img id="hexygon-child-3" src="{{url_for('static', filename='img/secretflower.png')}}" >
                        <img id="hexygon-child-4" src="{{url_for('static', filename='img/secretflower.png')}}" >
                        <img id="hexygon-child-5" src="{{url_for('static', filename='img/secretflower.png')}}" >
                        <img id="hexygon-child-6" src="{{url_for('static', filename='img/secretflower.png')}}" >            
                    </div> 
                </div>
            </div>
             
            <!-- row 1 -->
            <div class="row" id="row2">
                <div class="col-xs-4">
                   <div id="hexygon-container">
                        <img id="hexygon-child-1" src="{{url_for('static', filename='img/secretflower.png')}}" >
                        <img id="hexygon-child-2" src="{{url_for('static', filename='img/secretflower.png')}}" >
                        <img id="hexygon-child-3" src="{{url_for('static', filename='img/secretflower.png')}}" >
                        <img id="hexygon-child-4" src="{{url_for('static', filename='img/secretflower.png')}}" >
                        <img id="hexygon-child-5" src="{{url_for('static', filename='img/secretflower.png')}}" >
                        <img id="hexygon-child-6" src="{{url_for('static', filename='img/secretflower.png')}}" >            
                    </div> 
                </div>
                 <div class="col-xs-4">
                   <div id="hexygon-container">
                        <img id="hexygon-child-1" src="{{url_for('static', filename='img/secretflower.png')}}" >
                        <img id="hexygon-child-2" src="{{url_for('static', filename='img/secretflower.png')}}" >
                        <img id="hexygon-child-3" src="{{url_for('static', filename='img/secretflower.png')}}" >
                        <img id="hexygon-child-4" src="{{url_for('static', filename='img/secretflower.png')}}" >
                        <img id="hexygon-child-5" src="{{url_for('static', filename='img/secretflower.png')}}" >
                        <img id="hexygon-child-6" src="{{url_for('static', filename='img/secretflower.png')}}" >            
                    </div> 
                </div>
                 <div class="col-xs-4">
                   <div id="hexygon-container">
                        <img id="hexygon-child-1" src="{{url_for('static', filename='img/secretflower.png')}}" >
                        <img id="hexygon-child-2" src="{{url_for('static', filename='img/secretflower.png')}}" >
                        <img id="hexygon-child-3" src="{{url_for('static', filename='img/secretflower.png')}}" >
                        <img id="hexygon-child-4" src="{{url_for('static', filename='img/secretflower.png')}}" >
                        <img id="hexygon-child-5" src="{{url_for('static', filename='img/secretflower.png')}}" >
                        <img id="hexygon-child-6" src="{{url_for('static', filename='img/secretflower.png')}}" >            
                    </div> 
                </div>
            </div>
            <div class="row text-center">
<!--
                <div class="col-xs-6" id="healbutton">
                    <button type="button" class="bt_heal"  onclick="window.location.href='{{ url_for( 'choosebee') }}'">Choose Bee!</button>
                </div>
-->
                <div class="col-xs-12" id="healbutton">
                    <button type="button" class="bt_map"  onclick="window.location.href='{{ url_for( 'artificialflowermap') }}'">Get Nector!</button>
                </div>
            </div>
          
</div>
</div>
    <div class="row">
        <div class="col-xs-12 col-sm-12 col-md-12 col-12">
            <div id="myLinks">
        
                 <a href="{{url_for('rolechoose')}}">Logout</a>
       <a href="https://xd.adobe.com/view/9a9f1437-ca4f-45b2-433b-6e0755dfe5ea-ecae/?fullscreen&hints=off">Test Clickable Prototype</a>
            </div>
        </div>
    </div>
<!-- End smartphone / tablet look -->
</div>

<!--<p id="imgurl" style="display: none;">{{img_link}}</p>-->

<script>
    function myFunction() {
      var x = document.getElementById("myLinks");
      if (x.style.display === "block") {
        x.style.display = "none";
      } else {
        x.style.display = "block";
      }
    }
    
    var url_link = function(){
        var img_link = window.location.origin + "/static/img/Beespecies/" + $("p#img_name").text() + ".jpg";
        console.log(img_link)
        console.log(window.location.origin)
        $(".hexagon-in2").attr("src", img_link);
    }
    
    function checkCollection() {
        $.getJSON(
            $SCRIPT_ROOT + "/checkCollection/",
            {"checkCollection":"received"},
            function(data){
                var flowers = data.flowers;
                var collectiontype = data.collectiontype;
                
                if (flowers.length != 0) {
                    for (var i=1;i<=flowers["Helleborus"];i++) {
                        $(".Helleborus>#hexygon-child-" +i).attr("src", window.location.origin + "/static/img/flowerimage/Helleborus.jpg")
                    }

                    for (var i=1;i<=flowers["Pansy"];i++) {
                        
                        $(".Pansy>#hexygon-child-" +i).attr("src", window.location.origin + "/static/img/flowerimage/Pansy.jpg")
                    }
                }
            
        })
    }
    
    url_link();
    checkCollection();

    
    function timeout() {
        setTimeout(function () {
            life_value = life_value - 1;
            life_diaplay = life_originalDiaplay*life_value/100;
            $("#health")
                .attr("aria-valuenow","life_value")
                .css("width",life_diaplay + "px");
            if(life_value>0){timeout(life_value, life_originalDiaplay);};
        }, 500);
    }
    
    var life_value = $("#health").attr("aria-valuenow");
    var life_originalDiaplay = $("#health").css("width");
    life_originalDiaplay =life_originalDiaplay.substring(0,life_originalDiaplay.length-2);
    life_originalDiaplay = parseFloat(life_originalDiaplay);
    timeout(life_value, life_originalDiaplay);
    

    
</script>




{% endblock %}